{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\euqin\\\\OneDrive\\\\Desktop\\\\ADVENT\\\\advent-admin\\\\src\\\\pages\\\\EventFeedbacks.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport Sidebar from \"../components/Sidebar\";\nimport { db } from \"../firebase/firebaseConfig\";\nimport { collection, onSnapshot, query, where, addDoc, deleteDoc, doc, orderBy } from \"firebase/firestore\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EventFeedbacks() {\n  _s();\n  var _location$state;\n  const {\n    eventId\n  } = useParams();\n  const location = useLocation();\n  const eventNameFromState = (location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.eventName) || \"Event\";\n  const [feedbacks, setFeedbacks] = useState([]);\n\n  // Live query feedbacks for this event\n  useEffect(() => {\n    if (!eventId) return;\n    const q = query(collection(db, \"feedbacks\"), where(\"eventId\", \"==\", eventId), orderBy(\"createdAt\", \"desc\"));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const data = snapshot.docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }));\n      setFeedbacks(data);\n    });\n    return () => unsubscribe();\n  }, [eventId]);\n\n  // Derived stats\n  const {\n    total,\n    avg\n  } = useMemo(() => {\n    if (!feedbacks.length) return {\n      total: 0,\n      avg: 0\n    };\n    const ratings = feedbacks.map(f => Number(f.rating)).filter(n => !Number.isNaN(n));\n    const total = ratings.length;\n    const sum = ratings.reduce((a, b) => a + b, 0);\n    const avg = total ? sum / total : 0;\n    return {\n      total,\n      avg: Number(avg.toFixed(2))\n    };\n  }, [feedbacks]);\n\n  // Archive a feedback\n  const handleArchive = async (id, fb) => {\n    const confirm = await Swal.fire({\n      title: \"Archive this feedback?\",\n      text: \"It will be moved to Archived Feedbacks.\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#1abc9c\",\n      cancelButtonColor: \"#3085d6\",\n      confirmButtonText: \"Yes, archive it\",\n      focusCancel: true\n    });\n    if (!confirm.isConfirmed) return;\n    try {\n      await addDoc(collection(db, \"archived_feedbacks\"), {\n        ...fb,\n        archivedAt: new Date()\n      });\n      await deleteDoc(doc(db, \"feedbacks\", id));\n      Swal.fire({\n        icon: \"success\",\n        title: \"Archived\",\n        timer: 1600,\n        showConfirmButton: false\n      });\n    } catch (err) {\n      console.error(err);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Failed to archive\",\n        text: (err === null || err === void 0 ? void 0 : err.message) || \"Please try again.\"\n      });\n    }\n  };\n\n  // Delete a feedback\n  const handleDelete = async id => {\n    const confirm = await Swal.fire({\n      title: \"Delete this feedback?\",\n      text: \"This action cannot be undone.\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#e74c3c\",\n      cancelButtonColor: \"#3085d6\",\n      confirmButtonText: \"Yes, delete it\",\n      focusCancel: true\n    });\n    if (!confirm.isConfirmed) return;\n    try {\n      await deleteDoc(doc(db, \"feedbacks\", id));\n      Swal.fire({\n        icon: \"success\",\n        title: \"Deleted\",\n        timer: 1500,\n        showConfirmButton: false\n      });\n    } catch (err) {\n      console.error(err);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Failed to delete\",\n        text: (err === null || err === void 0 ? void 0 : err.message) || \"Please try again.\"\n      });\n    }\n  };\n\n  // Friendly date display\n  const fmt = ts => {\n    try {\n      var _ts$toDate;\n      const date = (ts === null || ts === void 0 ? void 0 : (_ts$toDate = ts.toDate) === null || _ts$toDate === void 0 ? void 0 : _ts$toDate.call(ts)) instanceof Date ? ts.toDate() : new Date(ts || Date.now());\n      return date.toLocaleString();\n    } catch {\n      return \"—\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100 font-poppins\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-10 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-semibold text-gray-800\",\n          children: [\"Feedbacks \\u2014 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-600\",\n            children: eventNameFromState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mt-1\",\n          children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-gray-700\",\n            children: total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 20\n          }, this), ` • `, \"Average Rating:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-gray-700\",\n            children: [avg, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-500\",\n              children: \"\\u2605\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-lg rounded-xl overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full text-left text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-blue-600 text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-sm font-medium\",\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-sm font-medium\",\n                children: \"Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-sm font-medium\",\n                children: \"Comment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-sm font-medium\",\n                children: \"Submitted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-sm font-medium text-center\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: feedbacks.length ? feedbacks.map(fb => {\n              var _fb$rating;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b hover:bg-gray-50 transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: fb !== null && fb !== void 0 && fb.anonymous ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"italic text-gray-500\",\n                    children: \"Anonymous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 25\n                  }, this) : (fb === null || fb === void 0 ? void 0 : fb.userName) || (fb === null || fb === void 0 ? void 0 : fb.userEmail) || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: (_fb$rating = fb === null || fb === void 0 ? void 0 : fb.rating) !== null && _fb$rating !== void 0 ? _fb$rating : \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-yellow-500\",\n                    children: \"\\u2605\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: fb !== null && fb !== void 0 && fb.comment ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700\",\n                    children: fb.comment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-400 italic\",\n                    children: \"No comment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: fmt(fb === null || fb === void 0 ? void 0 : fb.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2 justify-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-md text-sm\",\n                      onClick: () => handleArchive(fb.id, fb),\n                      children: \"Archive\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm\",\n                      onClick: () => handleDelete(fb.id),\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this)]\n              }, fb.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-10 text-center text-gray-500\",\n                colSpan: 5,\n                children: \"No feedbacks yet for this event.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400 mt-3\",\n        children: [\"Tip: \\u201CArchive\\u201D moves a feedback to \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: \"archived_feedbacks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 46\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n_s(EventFeedbacks, \"uflOAInp9r/8rTUwwVp9fMVeGpc=\", false, function () {\n  return [useParams, useLocation];\n});\n_c = EventFeedbacks;\nexport default EventFeedbacks;\nvar _c;\n$RefreshReg$(_c, \"EventFeedbacks\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useLocation","useParams","Sidebar","db","collection","onSnapshot","query","where","addDoc","deleteDoc","doc","orderBy","Swal","jsxDEV","_jsxDEV","EventFeedbacks","_s","_location$state","eventId","location","eventNameFromState","state","eventName","feedbacks","setFeedbacks","q","unsubscribe","snapshot","data","docs","map","d","id","total","avg","length","ratings","f","Number","rating","filter","n","isNaN","sum","reduce","a","b","toFixed","handleArchive","fb","confirm","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","focusCancel","isConfirmed","archivedAt","Date","timer","showConfirmButton","err","console","error","message","handleDelete","fmt","ts","_ts$toDate","date","toDate","call","now","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_fb$rating","anonymous","userName","userEmail","comment","createdAt","onClick","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/euqin/OneDrive/Desktop/ADVENT/advent-admin/src/pages/EventFeedbacks.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport { db } from \"../firebase/firebaseConfig\";\r\nimport {\r\n  collection,\r\n  onSnapshot,\r\n  query,\r\n  where,\r\n  addDoc,\r\n  deleteDoc,\r\n  doc,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nfunction EventFeedbacks() {\r\n  const { eventId } = useParams();\r\n  const location = useLocation();\r\n  const eventNameFromState = location?.state?.eventName || \"Event\";\r\n\r\n  const [feedbacks, setFeedbacks] = useState([]);\r\n\r\n  // Live query feedbacks for this event\r\n  useEffect(() => {\r\n    if (!eventId) return;\r\n\r\n    const q = query(\r\n      collection(db, \"feedbacks\"),\r\n      where(\"eventId\", \"==\", eventId),\r\n      orderBy(\"createdAt\", \"desc\")\r\n    );\r\n\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      const data = snapshot.docs.map((d) => ({\r\n        id: d.id,\r\n        ...d.data(),\r\n      }));\r\n      setFeedbacks(data);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [eventId]);\r\n\r\n  // Derived stats\r\n  const { total, avg } = useMemo(() => {\r\n    if (!feedbacks.length) return { total: 0, avg: 0 };\r\n    const ratings = feedbacks\r\n      .map((f) => Number(f.rating))\r\n      .filter((n) => !Number.isNaN(n));\r\n    const total = ratings.length;\r\n    const sum = ratings.reduce((a, b) => a + b, 0);\r\n    const avg = total ? sum / total : 0;\r\n    return { total, avg: Number(avg.toFixed(2)) };\r\n  }, [feedbacks]);\r\n\r\n  // Archive a feedback\r\n  const handleArchive = async (id, fb) => {\r\n    const confirm = await Swal.fire({\r\n      title: \"Archive this feedback?\",\r\n      text: \"It will be moved to Archived Feedbacks.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#1abc9c\",\r\n      cancelButtonColor: \"#3085d6\",\r\n      confirmButtonText: \"Yes, archive it\",\r\n      focusCancel: true,\r\n    });\r\n\r\n    if (!confirm.isConfirmed) return;\r\n\r\n    try {\r\n      await addDoc(collection(db, \"archived_feedbacks\"), {\r\n        ...fb,\r\n        archivedAt: new Date(),\r\n      });\r\n      await deleteDoc(doc(db, \"feedbacks\", id));\r\n\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Archived\",\r\n        timer: 1600,\r\n        showConfirmButton: false,\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Failed to archive\",\r\n        text: err?.message || \"Please try again.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // Delete a feedback\r\n  const handleDelete = async (id) => {\r\n    const confirm = await Swal.fire({\r\n      title: \"Delete this feedback?\",\r\n      text: \"This action cannot be undone.\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#e74c3c\",\r\n      cancelButtonColor: \"#3085d6\",\r\n      confirmButtonText: \"Yes, delete it\",\r\n      focusCancel: true,\r\n    });\r\n\r\n    if (!confirm.isConfirmed) return;\r\n\r\n    try {\r\n      await deleteDoc(doc(db, \"feedbacks\", id));\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Deleted\",\r\n        timer: 1500,\r\n        showConfirmButton: false,\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Failed to delete\",\r\n        text: err?.message || \"Please try again.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // Friendly date display\r\n  const fmt = (ts) => {\r\n    try {\r\n      const date =\r\n        ts?.toDate?.() instanceof Date ? ts.toDate() : new Date(ts || Date.now());\r\n      return date.toLocaleString();\r\n    } catch {\r\n      return \"—\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100 font-poppins\">\r\n      {/* Sidebar */}\r\n      <Sidebar />\r\n\r\n      {/* Main */}\r\n      <div className=\"flex-1 p-10 overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-semibold text-gray-800\">\r\n            Feedbacks — <span className=\"text-blue-600\">{eventNameFromState}</span>\r\n          </h1>\r\n          <p className=\"text-gray-500 mt-1\">\r\n            Total: <span className=\"font-semibold text-gray-700\">{total}</span>\r\n            {` • `}\r\n            Average Rating:{\" \"}\r\n            <span className=\"font-semibold text-gray-700\">\r\n              {avg} <span className=\"text-yellow-500\">★</span>\r\n            </span>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Table Card */}\r\n        <div className=\"bg-white shadow-lg rounded-xl overflow-hidden\">\r\n          <table className=\"min-w-full text-left text-gray-700\">\r\n            <thead className=\"bg-blue-600 text-white\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-sm font-medium\">User</th>\r\n                <th className=\"px-6 py-3 text-sm font-medium\">Rating</th>\r\n                <th className=\"px-6 py-3 text-sm font-medium\">Comment</th>\r\n                <th className=\"px-6 py-3 text-sm font-medium\">Submitted</th>\r\n                <th className=\"px-6 py-3 text-sm font-medium text-center\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {feedbacks.length ? (\r\n                feedbacks.map((fb) => (\r\n                  <tr\r\n                    key={fb.id}\r\n                    className=\"border-b hover:bg-gray-50 transition\"\r\n                  >\r\n                    <td className=\"px-6 py-4\">\r\n                      {fb?.anonymous ? (\r\n                        <span className=\"italic text-gray-500\">Anonymous</span>\r\n                      ) : (\r\n                        fb?.userName || fb?.userEmail || \"—\"\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className=\"font-semibold text-gray-800\">\r\n                        {fb?.rating ?? \"—\"}\r\n                      </span>{\" \"}\r\n                      <span className=\"text-yellow-500\">★</span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      {fb?.comment ? (\r\n                        <span className=\"text-gray-700\">{fb.comment}</span>\r\n                      ) : (\r\n                        <span className=\"text-gray-400 italic\">No comment</span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">{fmt(fb?.createdAt)}</td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex gap-2 justify-center\">\r\n                        <button\r\n                          className=\"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-md text-sm\"\r\n                          onClick={() => handleArchive(fb.id, fb)}\r\n                        >\r\n                          Archive\r\n                        </button>\r\n                        <button\r\n                          className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm\"\r\n                          onClick={() => handleDelete(fb.id)}\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    className=\"px-6 py-10 text-center text-gray-500\"\r\n                    colSpan={5}\r\n                  >\r\n                    No feedbacks yet for this event.\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* (Optional) Small note */}\r\n        <p className=\"text-xs text-gray-400 mt-3\">\r\n          Tip: “Archive” moves a feedback to <span className=\"font-medium\">archived_feedbacks</span>.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventFeedbacks;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}